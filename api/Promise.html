<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Promise | Kohl&#x27;s Admin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.kohl.gg/api/Promise"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Promise | Kohl&#x27;s Admin"><meta data-rh="true" name="description" content="A Promise is an object that represents a value that will exist in the future, but doesn&#x27;t right now.
Promises allow you to then attach callbacks that can run once the value becomes available (known as *resolving*),
or if an error has occurred (known as *rejecting*)."><meta data-rh="true" property="og:description" content="A Promise is an object that represents a value that will exist in the future, but doesn&#x27;t right now.
Promises allow you to then attach callbacks that can run once the value becomes available (known as *resolving*),
or if an error has occurred (known as *rejecting*)."><link data-rh="true" rel="icon" href="/logo-dark.svg"><link data-rh="true" rel="canonical" href="https://docs.kohl.gg/api/Promise"><link data-rh="true" rel="alternate" href="https://docs.kohl.gg/api/Promise" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.kohl.gg/api/Promise" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.fd0d6942.css">
<script src="/assets/js/runtime~main.8d29fa06.js" defer="defer"></script>
<script src="/assets/js/main.3e7bdafd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://kohl.gg" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/logo-load.svg" alt="Kohl&#x27;s Admin" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/logo-load-dark.svg" alt="Kohl&#x27;s Admin" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api">API</a><a href="https://kohl.gg/faq" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link no-link-icon">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/kohl" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/kohls-admin/kohls-admin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/api/MainModule">Core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/api/UI">Interface</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/api/Util">Utility</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api/Util">​Util</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api/Logger">​Logger</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/api/Promise">​Promise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api/String">​String</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api/CircleProgress">​Circle​Progress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api/TaskGroup">​Task​Group</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Promise</span></h1><div class="luaClassTags_EipM"></div><div>
<p>
  A Promise is an object that represents a value that will exist in the future, but doesn't right now.
  Promises allow you to then attach callbacks that can run once the value becomes available (known as <em>resolving</em>),
  or if an error has occurred (known as <em>rejecting</em>).
</p>
</div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Status"><code style="text-decoration:none">Status</code><a href="#Status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3><span class="docTag__6UZ" style="border-color:#218c74;color:#218c74">enum</span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L198"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">interface</code> <code>Status<!-- --> <!-- -->{</code><div class="inset_uKQm"><div><code>Started<!-- -->: </code><code class="blue_P4bS">&quot;Started&quot;</code><span class="inlineDescription_G7Er">-- <span>
<p>The Promise is executing, and not settled yet.</p>
</span></span></div><div><code>Resolved<!-- -->: </code><code class="blue_P4bS">&quot;Resolved&quot;</code><span class="inlineDescription_G7Er">-- <span>
<p>The Promise finished successfully.</p>
</span></span></div><div><code>Rejected<!-- -->: </code><code class="blue_P4bS">&quot;Rejected&quot;</code><span class="inlineDescription_G7Er">-- <span>
<p>The Promise was rejected.</p>
</span></span></div><div><code>Cancelled<!-- -->: </code><code class="blue_P4bS">&quot;Cancelled&quot;</code><span class="inlineDescription_G7Er">-- <span>
<p>The Promise was cancelled before it finished.</p>
</span></span></div></div><code>}</code></div><div>
<p>An enum value used to represent the Promise's status.</p>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="Status"><code style="text-decoration:none">Status</code><a href="#Status" class="hash-link" aria-label="Direct link to Status" title="Direct link to Status">​</a></h3><span class="badge_Ba2I" style="color:#e74c3c"><span class="badgeTooltip_cWXP">This item is read only and cannot be modified.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" height="300px" width="300px" fill="#e74c3c" x="0px" y="0px" viewBox="0 0 96 96"><path d="M70.354,15.662h-7.496H25.566c-3.282,0-5.19-0.776-5.728-1.169v-1.456c0.538-0.393,2.445-1.168,5.728-1.168h46.479V8H25.566  c-4.776,0-9.594,1.468-9.594,4.747v61.458C15.972,86.645,20.328,88,37.495,88h42.535V15.662H70.354z"></path></svg> <!-- -->Read Only</span></span><span class="docTag__6UZ" style="border-color:#2b8ab6;color:#2b8ab6">enums</span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L205"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.<!-- -->Status<!-- -->:<!-- --> </code> <code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise#Status">Status</a></code></div><div>
<p>A table containing all members of the <code>Status</code> enum, e.g., <code>Promise.Status.Resolved</code>.</p>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new"><code style="text-decoration:none">new</code><a href="#new" class="hash-link" aria-label="Direct link to new" title="Direct link to new">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L342"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">new</code><code>(</code><code>executor<!-- -->: </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code>resolve<!-- -->: </code><code class="green_DgR4">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>reject<!-- -->: </code><code class="green_DgR4">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>onCancel<!-- -->: </code><code class="green_DgR4">(</code><code>abortHandler?<!-- -->: </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS">boolean</code></div><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Construct a new Promise that will be resolved or rejected with the given callbacks.</p>
<p>If you <code>resolve</code> with a Promise, it will be chained onto.</p>
<p>You can safely yield within the executor function and it will not block the creating thread.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">,</span> onCancel<span class="token punctuation">)</span>
		task<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"Hello world!"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span>
</code></pre>
<p>You do not need to use <code>pcall</code> within a Promise. Errors that occur during execution will be caught and turned into a rejection automatically. If <code>error()</code> is called with a table, that table will be the rejection value. Otherwise, string errors will be converted into <code>Promise.Error(Promise.Error.Kind.ExecutionError)</code> objects for tracking debug information.</p>
<p>You may register an optional cancellation hook by using the <code>onCancel</code> argument:</p>
<ul>
  <li>This should be used to abort any ongoing operations leading up to the promise being settled.</li>
  <li>Call the <code>onCancel</code> function with a function callback as its only argument to set a hook which will in turn be called when/if the promise is cancelled.</li>
  <li><code>onCancel</code> returns <code>true</code> if the Promise was already cancelled when you called <code>onCancel</code>.</li>
  <li>Calling <code>onCancel</code> with no argument will not override a previously set cancellation hook, but it will still return <code>true</code> if the Promise is currently cancelled.</li>
  <li>You can set the cancellation hook at any time before resolving.</li>
  <li>When a promise is cancelled, calls to <code>resolve</code> or <code>reject</code> will be ignored, regardless of if you set a cancellation hook or not.</li>
</ul>

  
    
    
      <div class="admonition admonition-caution alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">CAUTION</span></h5>
        </div>
        <div class="admonition-content">
          <p>If the Promise is cancelled, the <code>executor</code> thread is closed with <code>coroutine.close</code> after the cancellation hook is called.</p>
          <p>You must perform any cleanup code in the cancellation hook: any time your executor yields, it <strong>may never resume</strong>.</p>
        </div>
      </div>
    
  

</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="defer"><code style="text-decoration:none">defer</code><a href="#defer" class="hash-link" aria-label="Direct link to defer" title="Direct link to defer">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L368"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">defer</code><code>(</code><code>executor<!-- -->: </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code>resolve<!-- -->: </code><code class="green_DgR4">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>reject<!-- -->: </code><code class="green_DgR4">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="green_DgR4">(</code><code class="green_DgR4">)</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>onCancel<!-- -->: </code><code class="green_DgR4">(</code><code>abortHandler?<!-- -->: </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="yellow_QJap"> → </code><code class="yellow_QJap">(</code><code class="yellow_QJap">)</code><code class="green_DgR4">)</code><code class="green_DgR4"> → </code><code class="blue_P4bS">boolean</code></div><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>The same as <a href="/api/Promise#new">Promise.new</a>, except execution begins after the next <code>Heartbeat</code> event.</p>
<p>This is a spiritual replacement for <code>spawn</code>, but it does not suffer from the same <a href="https://eryn.io/gist/3db84579866c099cdd5bb2ff37947cec">issues</a> as <code>spawn</code>.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">waitForChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> childName<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">defer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
	<span class="token keyword">local</span> child <span class="token operator">=</span> instance<span class="token punctuation">:</span><span class="token function">WaitForChild</span><span class="token punctuation">(</span>childName<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>

	<span class="token punctuation">;</span><span class="token punctuation">(</span>child <span class="token keyword">and</span> resolve <span class="token keyword">or</span> reject<span class="token punctuation">)</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
  <span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resolve"><code style="text-decoration:none">resolve</code><a href="#resolve" class="hash-link" aria-label="Direct link to resolve" title="Direct link to resolve">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L411"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">resolve</code><code>(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Creates an immediately resolved Promise with the given value.</p>
<pre class="language-lua"><code class="language-lua"><span class="token comment">-- Example using Promise.resolve to deliver cached values:</span>
<span class="token keyword">function</span> <span class="token function">getSomething</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
	<span class="token keyword">if</span> cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token keyword">then</span>
		<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
			<span class="token keyword">local</span> thing <span class="token operator">=</span> <span class="token function">getTheThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			cache<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> thing

			<span class="token function">resolve</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span>
		<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reject"><code style="text-decoration:none">reject</code><a href="#reject" class="hash-link" aria-label="Direct link to reject" title="Direct link to reject">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L428"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">reject</code><code>(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Creates an immediately rejected Promise with the given value.</p>

  
    
    
      <div class="admonition admonition-caution alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">CAUTION</span></h5>
        </div>
        <div class="admonition-content">
          <p>Something needs to consume this rejection (i.e. <code>:catch()</code> it), otherwise it will emit an unhandled Promise rejection warning on the next frame. Thus, you should not create and store rejected Promises for later use. Only create them on-demand as needed.</p>
        </div>
      </div>
    
  

</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="try"><code style="text-decoration:none">try</code><a href="#try" class="hash-link" aria-label="Direct link to try" title="Direct link to try">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L470"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">try</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">T...</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>,</code></div><div><code>...<!-- -->: </code><code class="blue_P4bS">T...</code><span class="inlineDescription_G7Er">-- <span>
<p>Additional arguments passed to <code>callback</code></p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Begins a Promise chain, calling a function and returning a Promise resolving with its return value. If the function errors, the returned Promise will be rejected with the error. You can safely yield within the Promise.try callback.</p>

  
    
    
      <div class="admonition admonition-info alert alert--info">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
              </svg></span><span class="admonition-title">INFO</span></h5>
        </div>
        <div class="admonition-content">
          <p><code>Promise.try</code> is similar to <a href="#promisify">Promise.promisify</a>, except the callback is invoked immediately instead of returning a new function.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua">Promise<span class="token punctuation">.</span><span class="token function">try</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token string">"ok"</span> <span class="token keyword">or</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Oh an error!"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Something went wrong"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="all"><code style="text-decoration:none">all</code><a href="#all" class="hash-link" aria-label="Direct link to all" title="Direct link to all">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L584"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">all</code><code>(</code><code>promises<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="purple_ieR2">{</code><code class="blue_P4bS">T</code><code class="purple_ieR2">}</code><code class="op_lSLc">&gt;</code></div><div>
<p>Accepts an array of Promises and returns a new promise that:</p>
<ul>
  <li>is resolved after all input promises resolve.</li>
  <li>is rejected if <em>any</em> input promises reject.</li>
</ul>

  
    
    
      <div class="admonition admonition-info alert alert--info">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
              </svg></span><span class="admonition-title">INFO</span></h5>
        </div>
        <div class="admonition-content">
          <p>Only the first return value from each promise will be present in the resulting array.</p>
        </div>
      </div>
    
  

<p>After any input Promise rejects, all other input Promises that are still pending will be cancelled if they have no other consumers.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> promises <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fold"><code style="text-decoration:none">fold</code><a href="#fold" class="hash-link" aria-label="Direct link to fold" title="Direct link to fold">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->v3.1.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L613"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">fold</code><code>(</code><div class="inset_uKQm"><div><code>list<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS">T</code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>,</code></div><div><code>reducer<!-- -->: </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code>accumulator<!-- -->: </code><code class="blue_P4bS">U</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>value<!-- -->: </code><code class="blue_P4bS">T</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>index<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">U</code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">U</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>initialValue<!-- -->: </code><code class="blue_P4bS">U</code></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>Folds an array of values or promises into a single value. The array is traversed sequentially.</p>
<p>The reducer function can return a promise or value directly. Each iteration receives the resolved value from the previous, and the first receives your defined initial value.</p>
<p>The folding will stop at the first rejection encountered.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> basket <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"blueberry"</span><span class="token punctuation">,</span> <span class="token string">"melon"</span><span class="token punctuation">,</span> <span class="token string">"pear"</span><span class="token punctuation">,</span> <span class="token string">"melon"</span><span class="token punctuation">}</span>
Promise<span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span>basket<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cost<span class="token punctuation">,</span> fruit<span class="token punctuation">)</span>
	<span class="token keyword">if</span> fruit <span class="token operator">==</span> <span class="token string">"blueberry"</span> <span class="token keyword">then</span>
		<span class="token keyword">return</span> cost <span class="token comment">-- blueberries are free!</span>
	<span class="token keyword">else</span>
		<span class="token comment">-- call a function that returns a promise with the fruit price</span>
		<span class="token keyword">return</span> <span class="token function">fetchPrice</span><span class="token punctuation">(</span>fruit<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>fruitCost<span class="token punctuation">)</span>
			<span class="token keyword">return</span> cost <span class="token operator">+</span> fruitCost
		<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="some"><code style="text-decoration:none">some</code><a href="#some" class="hash-link" aria-label="Direct link to some" title="Direct link to some">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L646"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">some</code><code>(</code><div class="inset_uKQm"><div><code>promises<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>,</code></div><div><code>count<!-- -->: </code><code class="blue_P4bS">number</code></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="purple_ieR2">{</code><code class="blue_P4bS">T</code><code class="purple_ieR2">}</code><code class="op_lSLc">&gt;</code></div><div>
<p>Accepts an array of Promises and returns a Promise that is resolved as soon as <code>count</code> Promises are resolved from the input array. The resolved array values are in the order that the Promises resolved in. When this Promise resolves, all other pending Promises are cancelled if they have no other consumers.</p>
<p><code>count</code> 0 results in an empty array. The resultant array will never have more than <code>count</code> elements.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> promises <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>promises<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">-- Only resolves with first 2 promises to resolve</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="any"><code style="text-decoration:none">any</code><a href="#any" class="hash-link" aria-label="Direct link to any" title="Direct link to any">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L670"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">any</code><code>(</code><code>promises<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>Accepts an array of Promises and returns a Promise that is resolved as soon as <em>any</em> of the input Promises resolves. It will reject only if <em>all</em> input Promises reject. As soon as one Promises resolves, all other pending Promises are cancelled if they have no other consumers.</p>
<p>Resolves directly with the value of the first resolved Promise. This is essentially [[Promise.some]] with <code>1</code> count, except the Promise resolves with the value directly instead of an array with one element.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> promises <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span> <span class="token comment">-- Resolves with first value to resolve (only rejects if all 3 rejected)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allSettled"><code style="text-decoration:none">allSettled</code><a href="#allSettled" class="hash-link" aria-label="Direct link to allSettled" title="Direct link to allSettled">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L692"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">allSettled</code><code>(</code><code>promises<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise#Status">Status</a></code><code class="purple_ieR2">}</code><code class="op_lSLc">&gt;</code></div><div>
<p>Accepts an array of Promises and returns a new Promise that resolves with an array of in-place Statuses when all input Promises have settled. This is equivalent to mapping <code>promise:finally</code> over the array of Promises.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> promises <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="race"><code style="text-decoration:none">race</code><a href="#race" class="hash-link" aria-label="Direct link to race" title="Direct link to race">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L770"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">race</code><code>(</code><code>promises<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>Accepts an array of Promises and returns a new promise that is resolved or rejected as soon as any Promise in the array resolves or rejects.</p>

  
    
    
      <div class="admonition admonition-warning alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">WARNING</span></h5>
        </div>
        <div class="admonition-content">
          <p>If the first Promise to settle from the array settles with a rejection, the resulting Promise from <code>race</code> will reject.</p>
          <p>If you instead want to tolerate rejections, and only care about at least one Promise resolving, you should use <a href="#any">Promise.any</a> or <a href="#some">Promise.some</a> instead.</p>
        </div>
      </div>
    
  

<p>All other Promises that don't win the race will be cancelled if they have no other consumers.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> promises <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">returnsAPromise</span><span class="token punctuation">(</span><span class="token string">"example 3"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span> <span class="token comment">-- Only returns 1st value to resolve or reject</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="each"><code style="text-decoration:none">each</code><a href="#each" class="hash-link" aria-label="Direct link to each" title="Direct link to each">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->3.0.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L865"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">each</code><code>(</code><div class="inset_uKQm"><div><code>list<!-- -->: </code><code class="purple_ieR2">{</code><code class="blue_P4bS">T</code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code class="purple_ieR2">}</code><code>,</code></div><div><code>predicate<!-- -->: </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code>value<!-- -->: </code><code class="blue_P4bS">T</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>index<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">U</code><code class="op_lSLc"> | </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">U</code><code class="op_lSLc">&gt;</code></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="purple_ieR2">{</code><code class="blue_P4bS">U</code><code class="purple_ieR2">}</code><code class="op_lSLc">&gt;</code></div><div>
<p>Iterates serially over the given an array of values, calling the predicate callback on each value before continuing.</p>
<p>
  If the predicate returns a Promise, we wait for that Promise to resolve before moving on to the next item
  in the array.
</p>

  
    
    
      <div class="admonition admonition-info alert alert--info">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
              </svg></span><span class="admonition-title">INFO</span></h5>
        </div>
        <div class="admonition-content">
          <p><code>Promise.each</code> is similar to <code>Promise.all</code>, except the Promises are ran in order instead of all at once.</p>
          <p>But because Promises are eager, by the time they are created, they're already running. Thus, we need a way to defer creation of each Promise until a later time.</p>
          <p>The predicate function exists as a way for us to operate on our data instead of creating a new closure for each Promise. If you would prefer, you can pass in an array of functions, and in the predicate, call the function and return its return value.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua">Promise<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token string">"foo"</span><span class="token punctuation">,</span>
	<span class="token string">"bar"</span><span class="token punctuation">,</span>
	<span class="token string">"baz"</span><span class="token punctuation">,</span>
	<span class="token string">"qux"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"%d) Got %s!"</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">format</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token comment">--[[
	(1 second passes)
	> 1) Got foo!
	(1 second passes)
	> 2) Got bar!
	(1 second passes)
	> 3) Got baz!
	(1 second passes)
	> 4) Got qux!
]]</span>
</code></pre>
<p>If the Promise a predicate returns rejects, the Promise from <code>Promise.each</code> is also rejected with the same value.</p>
<p>If the array of values contains a Promise, when we get to that point in the list, we wait for the Promise to resolve before calling the predicate with the value.</p>
<p>If a Promise in the array of values is already Rejected when <code>Promise.each</code> is called, <code>Promise.each</code> rejects with that value immediately (the predicate callback will never be called even once). If a Promise in the list is already Cancelled when <code>Promise.each</code> is called, <code>Promise.each</code> rejects with <code>Promise.Error(Promise.Error.Kind.AlreadyCancelled</code>). If a Promise in the array of values is Started at first, but later rejects, <code>Promise.each</code> will reject with that value and iteration will not continue once iteration encounters that value.</p>
<p>Returns a Promise containing an array of the returned/resolved values from the predicate for each item in the array of values.</p>
<p>If this Promise returned from <code>Promise.each</code> rejects or is cancelled for any reason, the following are true:</p>
<ul>
  <li>Iteration will not continue.</li>
  <li>Any Promises within the array of values will now be cancelled if they have no other consumers.</li>
  <li>The Promise returned from the currently active predicate will be cancelled if it hasn't resolved yet.</li>
</ul>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is"><code style="text-decoration:none">is</code><a href="#is" class="hash-link" aria-label="Direct link to is" title="Direct link to is">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L964"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">is</code><code>(</code><code>object<!-- -->: </code><code class="blue_P4bS">any</code><code>) → </code><code class="blue_P4bS">boolean</code><span class="inlineDescription_G7Er">-- <span>
<p><code>true</code> if the given <code>object</code> is a Promise.</p>
</span></span></div><div>
<p>Checks whether the given object is a Promise via duck typing. This only checks if the object is a table and has an <code>andThen</code> method.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="promisify"><code style="text-decoration:none">promisify</code><a href="#promisify" class="hash-link" aria-label="Direct link to promisify" title="Direct link to promisify">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1013"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">promisify</code><code>(</code><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>) → </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Wraps a function that yields into one that returns a Promise.</p>
<p>Any errors that occur while executing the function will be turned into rejections.</p>

  
    
    
      <div class="admonition admonition-info alert alert--info">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
              </svg></span><span class="admonition-title">INFO</span></h5>
        </div>
        <div class="admonition-content">
          <p><code>Promise.promisify</code> is similar to <a href="#try">Promise.try</a>, except the callback is returned as a callable function instead of being invoked immediately.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> sleep <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">promisify</span><span class="token punctuation">(</span>wait<span class="token punctuation">)</span>

<span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span>
</code></pre>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> isPlayerInGroup <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">promisify</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> groupId<span class="token punctuation">)</span>
	<span class="token keyword">return</span> player<span class="token punctuation">:</span><span class="token function">IsInGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delay"><code style="text-decoration:none">delay</code><a href="#delay" class="hash-link" aria-label="Direct link to delay" title="Direct link to delay">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1037"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">delay</code><code>(</code><code>seconds<!-- -->: </code><code class="blue_P4bS">number</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">number</code><code class="op_lSLc">&gt;</code></div><div>
<p>Returns a Promise that resolves after <code>seconds</code> seconds have passed. The Promise resolves with the actual amount of time that was waited.</p>
<p>This function is <strong>not</strong> a wrapper around <code>wait</code>. <code>Promise.delay</code> uses a custom scheduler which provides more accurate timing. As an optimization, cancelling this Promise instantly removes the task from the scheduler.</p>

  
    
    
      <div class="admonition admonition-warning alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">WARNING</span></h5>
        </div>
        <div class="admonition-content">
          <p>Passing <code>NaN</code>, infinity, or a number less than 1/60 is equivalent to passing 1/60.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua">	Promise<span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThenCall</span><span class="token punctuation">(</span>print<span class="token punctuation">,</span> <span class="token string">"This prints after 5 seconds"</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retry"><code style="text-decoration:none">retry</code><a href="#retry" class="hash-link" aria-label="Direct link to retry" title="Direct link to retry">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->3.0.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1927"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">retry</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">P</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>times<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code></div><div><code>...?<!-- -->: </code><code class="blue_P4bS">P</code></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>Repeatedly calls a Promise-returning function up to <code>times</code> number of times, until the returned Promise resolves.</p>
<p>If the amount of retries is exceeded, the function will return the latest rejected Promise.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> <span class="token keyword">function</span> <span class="token function">canFail</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
	<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
		<span class="token comment">-- do something that can fail</span>

		<span class="token keyword">local</span> failed<span class="token punctuation">,</span> thing <span class="token operator">=</span> <span class="token function">doSomethingThatCanFail</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>

		<span class="token keyword">if</span> failed <span class="token keyword">then</span>
			<span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"it failed"</span><span class="token punctuation">)</span>
		<span class="token keyword">else</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span>
		<span class="token keyword">end</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">local</span> MAX_RETRIES <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">local</span> value <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">retry</span><span class="token punctuation">(</span>canFail<span class="token punctuation">,</span> MAX_RETRIES<span class="token punctuation">,</span> <span class="token string">"foo"</span><span class="token punctuation">,</span> <span class="token string">"bar"</span><span class="token punctuation">,</span> <span class="token string">"baz"</span><span class="token punctuation">)</span> <span class="token comment">-- args to send to canFail</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retryWithDelay"><code style="text-decoration:none">retryWithDelay</code><a href="#retryWithDelay" class="hash-link" aria-label="Direct link to retryWithDelay" title="Direct link to retryWithDelay">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->v3.2.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1955"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">retryWithDelay</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">P</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code><code>,</code></div><div><code>times<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code></div><div><code>seconds<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code></div><div><code>...?<!-- -->: </code><code class="blue_P4bS">P</code></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">T</code><code class="op_lSLc">&gt;</code></div><div>
<p>
  Repeatedly calls a Promise-returning function up to <code>times</code> number of times, waiting <code>seconds</code> seconds between each
  retry, until the returned Promise resolves.
</p>
<p>If the amount of retries is exceeded, the function will return the latest rejected Promise.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fromEvent"><code style="text-decoration:none">fromEvent</code><a href="#fromEvent" class="hash-link" aria-label="Direct link to fromEvent" title="Direct link to fromEvent">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->3.0.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1997"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">fromEvent</code><code>(</code><div class="inset_uKQm"><div><code>event<!-- -->: </code><code class="blue_P4bS">Event</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Any object with a <code>Connect</code> method. This includes all Roblox events.</p>
</span></span></div><div><code>predicate?<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">P</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">boolean</code><span class="inlineDescription_G7Er">-- <span>
<p>A function which determines if the Promise should resolve with the given value, or wait for the next event to check again.</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">P</code><code class="op_lSLc">&gt;</code></div><div>
<p>Converts an event into a Promise which resolves the next time the event fires.</p>
<p>The optional <code>predicate</code> callback, if passed, will receive the event arguments and should return <code>true</code> or <code>false</code>, based on if this fired event should resolve the Promise or not. If <code>true</code>, the Promise resolves. If <code>false</code>, nothing happens and the predicate will be rerun the next time the event fires.</p>
<p>The Promise will resolve with the event arguments.</p>

  
    
    
      <div class="admonition admonition-success alert alert--success">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
              </svg></span><span class="admonition-title">TIP</span></h5>
        </div>
        <div class="admonition-content">
          <p>This function will work given any object with a <code>Connect</code> method. This includes all Roblox events.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua"><span class="token comment">-- Creates a Promise which only resolves when `somePart` is touched</span>
<span class="token comment">-- by a part named `"Something specific"`.</span>
<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">fromEvent</span><span class="token punctuation">(</span>somePart<span class="token punctuation">.</span>Touched<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>part<span class="token punctuation">)</span>
	<span class="token keyword">return</span> part<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">"Something specific"</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="onUnhandledRejection"><code style="text-decoration:none">onUnhandledRejection</code><a href="#onUnhandledRejection" class="hash-link" aria-label="Direct link to onUnhandledRejection" title="Direct link to onUnhandledRejection">​</a></h3><div class="repositoryDetailsContainer_BPdw"><span class="releaseVersion_EonW">since <!-- -->v3.2.0</span><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L2049"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->.</code><code class="green_DgR4">onUnhandledRejection</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><div class="inset_uKQm"><code>promise<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>...<!-- -->: </code><code class="blue_P4bS">any</code></div><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>A callback that runs when an unhandled rejection happens.</p>
</span></span></div></div><code>) → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="purple_ieR2">(</code><code class="purple_ieR2">)</code><span class="inlineDescription_G7Er">-- <span>
<p>Function that unregisters the <code>callback</code> when called</p>
</span></span></div><div>
<p>
  Registers a callback that runs when an unhandled rejection happens. An unhandled rejection happens when a Promise
  is rejected, and the rejection is not observed with <code>:catch</code>.
</p>
<p>The callback is called with the actual promise that rejected, followed by the rejection values.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout"><code style="text-decoration:none">timeout</code><a href="#timeout" class="hash-link" aria-label="Direct link to timeout" title="Direct link to timeout">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1173"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">timeout</code><code>(</code><div class="inset_uKQm"><div><code>seconds<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code></div><div><code>rejectionValue?<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>The value to reject with if the timeout is reached</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Returns a new Promise that resolves if the chained Promise resolves within <code>seconds</code> seconds, or rejects if execution time exceeds <code>seconds</code>. The chained Promise will be cancelled if the timeout is reached.</p>
<p>Rejects with <code>rejectionValue</code> if it is non-nil. If a <code>rejectionValue</code> is not given, it will reject with a <code>Promise.Error(Promise.Error.Kind.TimedOut)</code>. This can be checked with [[Error.isKind]].</p>
<pre class="language-lua"><code class="language-lua"><span class="token function">getSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>something<span class="token punctuation">)</span>
	<span class="token comment">-- got something and it only took at max 5 seconds</span>
<span class="token keyword">end</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
	<span class="token comment">-- Either getting something failed or the time was exceeded.</span>

	<span class="token keyword">if</span> Promise<span class="token punctuation">.</span>Error<span class="token punctuation">.</span><span class="token function">isKind</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> Promise<span class="token punctuation">.</span>Error<span class="token punctuation">.</span>Kind<span class="token punctuation">.</span>TimedOut<span class="token punctuation">)</span> <span class="token keyword">then</span>
		<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Operation timed out!"</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span>
		<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Operation encountered an error!"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
<p>Sugar for:</p>
<pre class="language-lua"><code class="language-lua">Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	Promise<span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>
			rejectionValue <span class="token operator">==</span> <span class="token keyword">nil</span>
			<span class="token keyword">and</span> Promise<span class="token punctuation">.</span>Error<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">{</span> kind <span class="token operator">=</span> Promise<span class="token punctuation">.</span>Error<span class="token punctuation">.</span>Kind<span class="token punctuation">.</span>TimedOut <span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token keyword">or</span> rejectionValue
		<span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	promise
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getStatus"><code style="text-decoration:none">getStatus</code><a href="#getStatus" class="hash-link" aria-label="Direct link to getStatus" title="Direct link to getStatus">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1197"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">getStatus</code><code>(</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise#Status">Status</a></code></div><div>
<p>Returns the current Promise status.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="andThen"><code style="text-decoration:none">andThen</code><a href="#andThen" class="hash-link" aria-label="Direct link to andThen" title="Direct link to andThen">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1276"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">andThen</code><code>(</code><div class="inset_uKQm"><div><code>successHandler<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>,</code></div><div><code>failureHandler?<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Chains onto an existing Promise and returns a new Promise.</p>

  
    
    
      <div class="admonition admonition-warning alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">WARNING</span></h5>
        </div>
        <div class="admonition-content">
          <p>Within the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by [[Error]] objects. If you want to treat it as a string for debugging, you should call <code>tostring</code> on it first.</p>
        </div>
      </div>
    
  

<p>You can return a Promise from the success or failure handler and it will be chained onto.</p>
<p>Calling <code>andThen</code> on a cancelled Promise returns a cancelled Promise.</p>

  
    
    
      <div class="admonition admonition-success alert alert--success">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
              </svg></span><span class="admonition-title">TIP</span></h5>
        </div>
        <div class="admonition-content">
          <p>If the Promise returned by <code>andThen</code> is cancelled, <code>successHandler</code> and <code>failureHandler</code> will not run.</p>
          <p>To run code no matter what, use <a href="/api/Promise#finally">Promise:finally</a>.</p>
        </div>
      </div>
    
  

</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="catch"><code style="text-decoration:none">catch</code><a href="#catch" class="hash-link" aria-label="Direct link to catch" title="Direct link to catch">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1303"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">catch</code><code>(</code><code>failureHandler<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Shorthand for <code>Promise:andThen(nil, failureHandler)</code>.</p>
<p>Returns a Promise that resolves if the <code>failureHandler</code> worked without encountering an additional error.</p>

  
    
    
      <div class="admonition admonition-warning alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">WARNING</span></h5>
        </div>
        <div class="admonition-content">
          <p>Within the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by [[Error]] objects. If you want to treat it as a string for debugging, you should call <code>tostring</code> on it first.</p>
        </div>
      </div>
    
  

<p>Calling <code>catch</code> on a cancelled Promise returns a cancelled Promise.</p>

  
    
    
      <div class="admonition admonition-success alert alert--success">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
                <path d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path>
              </svg></span><span class="admonition-title">TIP</span></h5>
        </div>
        <div class="admonition-content">
          <p>If the Promise returned by <code>catch</code> is cancelled, <code>failureHandler</code> will not run.</p>
          <p>To run code no matter what, use <a href="/api/Promise#finally">Promise:finally</a>.</p>
        </div>
      </div>
    
  

</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tap"><code style="text-decoration:none">tap</code><a href="#tap" class="hash-link" aria-label="Direct link to tap" title="Direct link to tap">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1324"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">tap</code><code>(</code><code>tapHandler<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>Similar to <a href="#andThen">Promise.andThen</a>, except the return value is the same as the value passed to the handler. In other words, you can insert a <code>:tap</code> into a Promise chain without affecting the value that downstream Promises receive.</p>
<pre class="language-lua"><code class="language-lua">	<span class="token function">getTheValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">tap</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>theValue<span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Got"</span><span class="token punctuation">,</span> theValue<span class="token punctuation">,</span> <span class="token string">"even though print returns nil!"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
<p>If you return a Promise from the tap handler callback, its value will be discarded but <code>tap</code> will still wait until it resolves before passing the original value through.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="andThenCall"><code style="text-decoration:none">andThenCall</code><a href="#andThenCall" class="hash-link" aria-label="Direct link to andThenCall" title="Direct link to andThenCall">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1359"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">andThenCall</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">any</code><code>,</code></div><div><code>...?<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>Additional arguments which will be passed to <code>callback</code></p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Attaches an <code>andThen</code> handler to this Promise that calls the given callback with the predefined arguments. The resolved value is discarded.</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">andThenCall</span><span class="token punctuation">(</span>someFunction<span class="token punctuation">,</span> <span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"arguments"</span><span class="token punctuation">)</span>
</code></pre>
<p>This is sugar for</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"arguments"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="andThenReturn"><code style="text-decoration:none">andThenReturn</code><a href="#andThenReturn" class="hash-link" aria-label="Direct link to andThenReturn" title="Direct link to andThenReturn">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1389"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">andThenReturn</code><code>(</code><div class="inset_uKQm"><div><code>...<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>Values to return from the function</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Attaches an <code>andThen</code> handler to this Promise that discards the resolved value and returns the given value from it.</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">andThenReturn</span><span class="token punctuation">(</span><span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"values"</span><span class="token punctuation">)</span>
</code></pre>
<p>This is sugar for</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"values"</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>

  
    
    
      <div class="admonition admonition-caution alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">CAUTION</span></h5>
        </div>
        <div class="admonition-content">
          <p>Promises are eager, so if you pass a Promise to <code>andThenReturn</code>, it will begin executing before <code>andThenReturn</code> is reached in the chain. Likewise, if you pass a Promise created from [[Promise.reject]] into <code>andThenReturn</code>, it's possible that this will trigger the unhandled rejection warning. If you need to return a Promise, it's usually best practice to use [[Promise.andThen]].</p>
        </div>
      </div>
    
  

</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cancel"><code style="text-decoration:none">cancel</code><a href="#cancel" class="hash-link" aria-label="Direct link to cancel" title="Direct link to cancel">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1407"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">cancel</code><code>(</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Cancels this promise, preventing the promise from resolving or rejecting. Does not do anything if the promise is already settled.</p>
<p>Cancellations will propagate upwards and downwards through chained promises.</p>
<p>Promises will only be cancelled if all of their consumers are also cancelled. This is to say that if you call <code>andThen</code> twice on the same promise, and you cancel only one of the child promises, it will not cancel the parent promise until the other child promise is also cancelled.</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finally"><code style="text-decoration:none">finally</code><a href="#finally" class="hash-link" aria-label="Direct link to finally" title="Direct link to finally">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1552"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">finally</code><code>(</code><code>finallyHandler<!-- -->: </code><code class="purple_ieR2">(</code><code>status<!-- -->: </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise#Status">Status</a></code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">...any</code><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code><code class="op_lSLc">&lt;</code><code class="blue_P4bS">...any</code><code class="op_lSLc">&gt;</code></div><div>
<p>
  Set a handler that will be called regardless of the promise's fate. The handler is called when the promise is
  resolved, rejected, <em>or</em> cancelled.
</p>
<p>Returns a new Promise that:</p>
<ul>
  <li>resolves with the same values that this Promise resolves with.</li>
  <li>rejects with the same values that this Promise rejects with.</li>
  <li>is cancelled if this Promise is cancelled.</li>
</ul>
<p>If the value you return from the handler is a Promise:</p>
<ul>
  <li>We wait for the Promise to resolve, but we ultimately discard the resolved value.</li>
  <li>
    If the returned Promise rejects, the Promise returned from <code>finally</code> will reject with the rejected value from the
    <em>returned</em> promise.
  </li>
  <li>If the <code>finally</code> Promise is cancelled, and you returned a Promise from the handler, we cancel that Promise too.</li>
</ul>
<p>Otherwise, the return value from the <code>finally</code> handler is entirely discarded.</p>

  
    
    
      <div class="admonition admonition-note alert alert--secondary">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
                <path d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path>
              </svg></span><span class="admonition-title">Cancellation</span></h5>
        </div>
        <div class="admonition-content">
          <p>
            As of Promise v4, <code>Promise:finally</code> does not count as a consumer of the parent Promise for cancellation purposes.
            This means that if all of a Promise's consumers are cancelled and the only remaining callbacks are finally handlers,
            the Promise is cancelled and the finally callbacks run then and there.
          </p>
          <p>
            Cancellation still propagates through the <code>finally</code> Promise though: if you cancel the <code>finally</code> Promise, it can cancel
            its parent Promise if it had no other consumers. Likewise, if the parent Promise is cancelled, the <code>finally</code> Promise
            will also be cancelled.
          </p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> thing <span class="token operator">=</span> <span class="token function">createSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">doSomethingWith</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"It worked!"</span><span class="token punctuation">)</span>
		<span class="token comment">-- do something..</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"Oh no it failed!"</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">-- either way, destroy thing</span>

		thing<span class="token punctuation">:</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>

</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finallyCall"><code style="text-decoration:none">finallyCall</code><a href="#finallyCall" class="hash-link" aria-label="Direct link to finallyCall" title="Direct link to finallyCall">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1566"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">finallyCall</code><code>(</code><div class="inset_uKQm"><div><code>callback<!-- -->: </code><code class="purple_ieR2">(</code><code>...<!-- -->: </code><code class="blue_P4bS">any</code><code class="purple_ieR2">)</code><code class="purple_ieR2"> → </code><code class="blue_P4bS">any</code><code>,</code></div><div><code>...?<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>Additional arguments which will be passed to <code>callback</code></p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Same as <code>andThenCall</code>, except for <code>finally</code>.</p>
<p>Attaches a <code>finally</code> handler to this Promise that calls the given callback with the predefined arguments.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finallyReturn"><code style="text-decoration:none">finallyReturn</code><a href="#finallyReturn" class="hash-link" aria-label="Direct link to finallyReturn" title="Direct link to finallyReturn">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1592"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">finallyReturn</code><code>(</code><div class="inset_uKQm"><div><code>...<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>Values to return from the function</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Attaches a <code>finally</code> handler to this Promise that discards the resolved value and returns the given value from it.</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">finallyReturn</span><span class="token punctuation">(</span><span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"values"</span><span class="token punctuation">)</span>
</code></pre>
<p>This is sugar for</p>
<pre class="language-lua"><code class="language-lua">	promise<span class="token punctuation">:</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token string">"some"</span><span class="token punctuation">,</span> <span class="token string">"values"</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="awaitStatus"><code style="text-decoration:none">awaitStatus</code><a href="#awaitStatus" class="hash-link" aria-label="Direct link to awaitStatus" title="Direct link to awaitStatus">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1606"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">awaitStatus</code><code>(</code><code>) → </code><code>(</code><div class="inset_uKQm"><div><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise#Status">Status</a></code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The Status representing the fate of the Promise</p>
</span></span></div><div><code class="blue_P4bS">...any</code><span class="inlineDescription_G7Er">-- <span>
<p>The values the Promise resolved or rejected with.</p>
</span></span></div></div><code>)</code></div><div>
<p>Yields the current thread until the given Promise completes. Returns the Promise's status, followed by the values that the promise resolved or rejected with.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="await"><code style="text-decoration:none">await</code><a href="#await" class="hash-link" aria-label="Direct link to await" title="Direct link to await">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1659"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">await</code><code>(</code><code>) → </code><code>(</code><div class="inset_uKQm"><div><code class="blue_P4bS">boolean</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p><code>true</code> if the Promise successfully resolved</p>
</span></span></div><div><code class="blue_P4bS">...any</code><span class="inlineDescription_G7Er">-- <span>
<p>The values the Promise resolved or rejected with.</p>
</span></span></div></div><code>)</code></div><div>
<p>Yields the current thread until the given Promise completes. Returns true if the Promise resolved, followed by the values that the promise resolved or rejected with.</p>

  
    
    
      <div class="admonition admonition-caution alert alert--warning">
        <div class="admonition-heading">
          <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                <path d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path>
              </svg></span><span class="admonition-title">CAUTION</span></h5>
        </div>
        <div class="admonition-content">
          <p>If the Promise gets cancelled, this function will return <code>false</code>, which is indistinguishable from a rejection. If you need to differentiate, you should use [[Promise.awaitStatus]] instead.</p>
        </div>
      </div>
    
  

<pre class="language-lua"><code class="language-lua">	<span class="token keyword">local</span> worked<span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token function">getTheValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> worked <span class="token keyword">then</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"got"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token keyword">else</span>
	<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"it failed"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="expect"><code style="text-decoration:none">expect</code><a href="#expect" class="hash-link" aria-label="Direct link to expect" title="Direct link to expect">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1696"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">expect</code><code>(</code><code>) → </code><code class="blue_P4bS">...any</code><span class="inlineDescription_G7Er">-- <span>
<p>The values the Promise resolved with.</p>
</span></span></div><div>
<p>Yields the current thread until the given Promise completes. Returns the values that the promise resolved with.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> worked <span class="token operator">=</span> <span class="token function">pcall</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"got"</span><span class="token punctuation">,</span> <span class="token function">getTheValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token keyword">not</span> worked <span class="token keyword">then</span>
	<span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">"it failed"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<p>This is essentially sugar for:</p>
<pre class="language-lua"><code class="language-lua"><span class="token function">select</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token function">assert</span><span class="token punctuation">(</span>promise<span class="token punctuation">:</span><span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Errors</strong> if the Promise rejects or gets cancelled.</p>
</div><h3>Errors</h3><table class="errorTable_jfN8"><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>any</td><td>Errors with the rejection value if this Promise rejects or gets cancelled.</td></tr></tbody></table><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="now"><code style="text-decoration:none">now</code><a href="#now" class="hash-link" aria-label="Direct link to now" title="Direct link to now">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/kohls-admin/kohls-admin/blob/master/src/Util/Promise.luau#L1882"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>Promise<!-- -->:</code><code class="green_DgR4">now</code><code>(</code><div class="inset_uKQm"><div><code>rejectionValue?<!-- -->: </code><code class="blue_P4bS">any</code><span class="inlineDescription_G7Er">-- <span>
<p>The value to reject with if the Promise isn't resolved</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/api/Promise">Promise</a></code></div><div>
<p>Chains a Promise from this one that is resolved if this Promise is already resolved, and rejected if it is not resolved at the time of calling <code>:now()</code>. This can be used to ensure your <code>andThen</code> handler occurs on the same frame as the root Promise execution.</p>
<pre class="language-lua"><code class="language-lua"><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">:</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
		<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Got"</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token string">"synchronously."</span><span class="token punctuation">)</span>
	<span class="token keyword">end</span><span class="token punctuation">)</span>
</code></pre>
<p>If this Promise is still running, Rejected, or Cancelled, the Promise returned from <code>:now()</code> will reject with the <code>rejectionValue</code> if passed, otherwise with a <code>Promise.Error(Promise.Error.Kind.NotResolvedInTime)</code>. This can be checked with [[Error.isKind]].</p>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;new&quot;,
            &quot;desc&quot;: &quot;Construct a new Promise that will be resolved or rejected with the given callbacks.\n\nIf you `resolve` with a Promise, it will be chained onto.\n\nYou can safely yield within the executor function and it will not block the creating thread.\n\n```lua\nlocal myFunction()\n\treturn Promise.new(function(resolve, reject, onCancel)\n\t\ttask.wait(1)\n\t\tresolve(\&quot;Hello world!\&quot;)\n\tend)\nend\n\nmyFunction():andThen(print)\n```\n\nYou do not need to use `pcall` within a Promise. Errors that occur during execution will be caught and turned into a rejection automatically. If `error()` is called with a table, that table will be the rejection value. Otherwise, string errors will be converted into `Promise.Error(Promise.Error.Kind.ExecutionError)` objects for tracking debug information.\n\nYou may register an optional cancellation hook by using the `onCancel` argument:\n\n* This should be used to abort any ongoing operations leading up to the promise being settled.\n* Call the `onCancel` function with a function callback as its only argument to set a hook which will in turn be called when/if the promise is cancelled.\n* `onCancel` returns `true` if the Promise was already cancelled when you called `onCancel`.\n* Calling `onCancel` with no argument will not override a previously set cancellation hook, but it will still return `true` if the Promise is currently cancelled.\n* You can set the cancellation hook at any time before resolving.\n* When a promise is cancelled, calls to `resolve` or `reject` will be ignored, regardless of if you set a cancellation hook or not.\n\n:::caution\nIf the Promise is cancelled, the `executor` thread is closed with `coroutine.close` after the cancellation hook is called.\n\nYou must perform any cleanup code in the cancellation hook: any time your executor yields, it **may never resume**.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;executor&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(resolve: (...: any) -&gt; (), reject: (...: any) -&gt; (), onCancel: (abortHandler?: () -&gt; ()) -&gt; boolean) -&gt; ()&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 342,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;defer&quot;,
            &quot;desc&quot;: &quot;The same as [Promise.new](/api/Promise#new), except execution begins after the next `Heartbeat` event.\n\nThis is a spiritual replacement for `spawn`, but it does not suffer from the same [issues](https://eryn.io/gist/3db84579866c099cdd5bb2ff37947cec) as `spawn`.\n\n```lua\nlocal function waitForChild(instance, childName, timeout)\n  return Promise.defer(function(resolve, reject)\n\tlocal child = instance:WaitForChild(childName, timeout)\n\n\t;(child and resolve or reject)(child)\n  end)\nend\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;executor&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(resolve: (...: any) -&gt; (), reject: (...: any) -&gt; (), onCancel: (abortHandler?: () -&gt; ()) -&gt; boolean) -&gt; ()&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 368,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;resolve&quot;,
            &quot;desc&quot;: &quot;Creates an immediately resolved Promise with the given value.\n\n```lua\n-- Example using Promise.resolve to deliver cached values:\nfunction getSomething(name)\n\tif cache[name] then\n\t\treturn Promise.resolve(cache[name])\n\telse\n\t\treturn Promise.new(function(resolve, reject)\n\t\t\tlocal thing = getTheThing()\n\t\t\tcache[name] = thing\n\n\t\t\tresolve(thing)\n\t\tend)\n\tend\nend\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 411,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;reject&quot;,
            &quot;desc&quot;: &quot;Creates an immediately rejected Promise with the given value.\n\n:::caution\nSomething needs to consume this rejection (i.e. `:catch()` it), otherwise it will emit an unhandled Promise rejection warning on the next frame. Thus, you should not create and store rejected Promises for later use. Only create them on-demand as needed.\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 428,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;try&quot;,
            &quot;desc&quot;: &quot;Begins a Promise chain, calling a function and returning a Promise resolving with its return value. If the function errors, the returned Promise will be rejected with the error. You can safely yield within the Promise.try callback.\n\n:::info\n`Promise.try` is similar to [Promise.promisify](#promisify), except the callback is invoked immediately instead of returning a new function.\n:::\n\n```lua\nPromise.try(function()\n\treturn math.random(1, 2) == 1 and \&quot;ok\&quot; or error(\&quot;Oh an error!\&quot;)\nend)\n\t:andThen(function(text)\n\t\tprint(text)\n\tend)\n\t:catch(function(err)\n\t\twarn(\&quot;Something went wrong\&quot;)\n\tend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: T...) -&gt; ...any&quot;
                },
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;Additional arguments passed to `callback`&quot;,
                    &quot;lua_type&quot;: &quot;T...&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 470,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;all&quot;,
            &quot;desc&quot;: &quot;Accepts an array of Promises and returns a new promise that:\n* is resolved after all input promises resolve.\n* is rejected if *any* input promises reject.\n\n:::info\nOnly the first return value from each promise will be present in the resulting array.\n:::\n\nAfter any input Promise rejects, all other input Promises that are still pending will be cancelled if they have no other consumers.\n\n```lua\nlocal promises = {\n\treturnsAPromise(\&quot;example 1\&quot;),\n\treturnsAPromise(\&quot;example 2\&quot;),\n\treturnsAPromise(\&quot;example 3\&quot;),\n}\n\nreturn Promise.all(promises)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;promises&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Promise&lt;T&gt;}&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;{T}&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 584,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;fold&quot;,
            &quot;desc&quot;: &quot;Folds an array of values or promises into a single value. The array is traversed sequentially.\n\nThe reducer function can return a promise or value directly. Each iteration receives the resolved value from the previous, and the first receives your defined initial value.\n\nThe folding will stop at the first rejection encountered.\n```lua\nlocal basket = {\&quot;blueberry\&quot;, \&quot;melon\&quot;, \&quot;pear\&quot;, \&quot;melon\&quot;}\nPromise.fold(basket, function(cost, fruit)\n\tif fruit == \&quot;blueberry\&quot; then\n\t\treturn cost -- blueberries are free!\n\telse\n\t\t-- call a function that returns a promise with the fruit price\n\t\treturn fetchPrice(fruit):andThen(function(fruitCost)\n\t\t\treturn cost + fruitCost\n\t\tend)\n\tend\nend, 0)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;list&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{T | Promise&lt;T&gt;}&quot;
                },
                {
                    &quot;name&quot;: &quot;reducer&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(accumulator: U, value: T, index: number) -&gt; U | Promise&lt;U&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;initialValue&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;U&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;v3.1.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 613,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;some&quot;,
            &quot;desc&quot;: &quot;Accepts an array of Promises and returns a Promise that is resolved as soon as `count` Promises are resolved from the input array. The resolved array values are in the order that the Promises resolved in. When this Promise resolves, all other pending Promises are cancelled if they have no other consumers.\n\n`count` 0 results in an empty array. The resultant array will never have more than `count` elements.\n\n```lua\nlocal promises = {\n\treturnsAPromise(\&quot;example 1\&quot;),\n\treturnsAPromise(\&quot;example 2\&quot;),\n\treturnsAPromise(\&quot;example 3\&quot;),\n}\n\nreturn Promise.some(promises, 2) -- Only resolves with first 2 promises to resolve\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;promises&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Promise&lt;T&gt;}&quot;
                },
                {
                    &quot;name&quot;: &quot;count&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;{T}&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 646,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;any&quot;,
            &quot;desc&quot;: &quot;Accepts an array of Promises and returns a Promise that is resolved as soon as *any* of the input Promises resolves. It will reject only if *all* input Promises reject. As soon as one Promises resolves, all other pending Promises are cancelled if they have no other consumers.\n\nResolves directly with the value of the first resolved Promise. This is essentially [[Promise.some]] with `1` count, except the Promise resolves with the value directly instead of an array with one element.\n\n```lua\nlocal promises = {\n\treturnsAPromise(\&quot;example 1\&quot;),\n\treturnsAPromise(\&quot;example 2\&quot;),\n\treturnsAPromise(\&quot;example 3\&quot;),\n}\n\nreturn Promise.any(promises) -- Resolves with first value to resolve (only rejects if all 3 rejected)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;promises&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Promise&lt;T&gt;}&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 670,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;allSettled&quot;,
            &quot;desc&quot;: &quot;Accepts an array of Promises and returns a new Promise that resolves with an array of in-place Statuses when all input Promises have settled. This is equivalent to mapping `promise:finally` over the array of Promises.\n\n```lua\nlocal promises = {\n\treturnsAPromise(\&quot;example 1\&quot;),\n\treturnsAPromise(\&quot;example 2\&quot;),\n\treturnsAPromise(\&quot;example 3\&quot;),\n}\n\nreturn Promise.allSettled(promises)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;promises&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Promise&lt;T&gt;}&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;{Status}&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 692,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;race&quot;,
            &quot;desc&quot;: &quot;Accepts an array of Promises and returns a new promise that is resolved or rejected as soon as any Promise in the array resolves or rejects.\n\n:::warning\nIf the first Promise to settle from the array settles with a rejection, the resulting Promise from `race` will reject.\n\nIf you instead want to tolerate rejections, and only care about at least one Promise resolving, you should use [Promise.any](#any) or [Promise.some](#some) instead.\n:::\n\nAll other Promises that don&#x27;t win the race will be cancelled if they have no other consumers.\n\n```lua\nlocal promises = {\n\treturnsAPromise(\&quot;example 1\&quot;),\n\treturnsAPromise(\&quot;example 2\&quot;),\n\treturnsAPromise(\&quot;example 3\&quot;),\n}\n\nreturn Promise.race(promises) -- Only returns 1st value to resolve or reject\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;promises&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{Promise&lt;T&gt;}&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 770,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;each&quot;,
            &quot;desc&quot;: &quot;Iterates serially over the given an array of values, calling the predicate callback on each value before continuing.\n\nIf the predicate returns a Promise, we wait for that Promise to resolve before moving on to the next item\nin the array.\n\n:::info\n`Promise.each` is similar to `Promise.all`, except the Promises are ran in order instead of all at once.\n\nBut because Promises are eager, by the time they are created, they&#x27;re already running. Thus, we need a way to defer creation of each Promise until a later time.\n\nThe predicate function exists as a way for us to operate on our data instead of creating a new closure for each Promise. If you would prefer, you can pass in an array of functions, and in the predicate, call the function and return its return value.\n:::\n\n```lua\nPromise.each({\n\t\&quot;foo\&quot;,\n\t\&quot;bar\&quot;,\n\t\&quot;baz\&quot;,\n\t\&quot;qux\&quot;\n}, function(value, index)\n\treturn Promise.delay(1):andThen(function()\n\tprint((\&quot;%d) Got %s!\&quot;):format(index, value))\n\tend)\nend)\n\n--[[\n\t(1 second passes)\n\t&gt; 1) Got foo!\n\t(1 second passes)\n\t&gt; 2) Got bar!\n\t(1 second passes)\n\t&gt; 3) Got baz!\n\t(1 second passes)\n\t&gt; 4) Got qux!\n]]\n```\n\nIf the Promise a predicate returns rejects, the Promise from `Promise.each` is also rejected with the same value.\n\nIf the array of values contains a Promise, when we get to that point in the list, we wait for the Promise to resolve before calling the predicate with the value.\n\nIf a Promise in the array of values is already Rejected when `Promise.each` is called, `Promise.each` rejects with that value immediately (the predicate callback will never be called even once). If a Promise in the list is already Cancelled when `Promise.each` is called, `Promise.each` rejects with `Promise.Error(Promise.Error.Kind.AlreadyCancelled`). If a Promise in the array of values is Started at first, but later rejects, `Promise.each` will reject with that value and iteration will not continue once iteration encounters that value.\n\nReturns a Promise containing an array of the returned/resolved values from the predicate for each item in the array of values.\n\nIf this Promise returned from `Promise.each` rejects or is cancelled for any reason, the following are true:\n- Iteration will not continue.\n- Any Promises within the array of values will now be cancelled if they have no other consumers.\n- The Promise returned from the currently active predicate will be cancelled if it hasn&#x27;t resolved yet.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;list&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{T | Promise&lt;T&gt;}&quot;
                },
                {
                    &quot;name&quot;: &quot;predicate&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(value: T, index: number) -&gt; U | Promise&lt;U&gt;&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;{U}&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;3.0.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 865,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;is&quot;,
            &quot;desc&quot;: &quot;Checks whether the given object is a Promise via duck typing. This only checks if the object is a table and has an `andThen` method.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;object&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;`true` if the given `object` is a Promise.&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 964,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;promisify&quot;,
            &quot;desc&quot;: &quot;Wraps a function that yields into one that returns a Promise.\n\nAny errors that occur while executing the function will be turned into rejections.\n\n:::info\n`Promise.promisify` is similar to [Promise.try](#try), except the callback is returned as a callable function instead of being invoked immediately.\n:::\n\n```lua\nlocal sleep = Promise.promisify(wait)\n\nsleep(1):andThen(print)\n```\n\n```lua\nlocal isPlayerInGroup = Promise.promisify(function(player, groupId)\n\treturn player:IsInGroup(groupId)\nend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; ...any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1013,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;delay&quot;,
            &quot;desc&quot;: &quot;Returns a Promise that resolves after `seconds` seconds have passed. The Promise resolves with the actual amount of time that was waited.\n\nThis function is **not** a wrapper around `wait`. `Promise.delay` uses a custom scheduler which provides more accurate timing. As an optimization, cancelling this Promise instantly removes the task from the scheduler.\n\n:::warning\nPassing `NaN`, infinity, or a number less than 1/60 is equivalent to passing 1/60.\n:::\n\n```lua\n\tPromise.delay(5):andThenCall(print, \&quot;This prints after 5 seconds\&quot;)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;seconds&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;number&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1037,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;timeout&quot;,
            &quot;desc&quot;: &quot;Returns a new Promise that resolves if the chained Promise resolves within `seconds` seconds, or rejects if execution time exceeds `seconds`. The chained Promise will be cancelled if the timeout is reached.\n\nRejects with `rejectionValue` if it is non-nil. If a `rejectionValue` is not given, it will reject with a `Promise.Error(Promise.Error.Kind.TimedOut)`. This can be checked with [[Error.isKind]].\n\n```lua\ngetSomething():timeout(5):andThen(function(something)\n\t-- got something and it only took at max 5 seconds\nend):catch(function(e)\n\t-- Either getting something failed or the time was exceeded.\n\n\tif Promise.Error.isKind(e, Promise.Error.Kind.TimedOut) then\n\t\twarn(\&quot;Operation timed out!\&quot;)\n\telse\n\t\twarn(\&quot;Operation encountered an error!\&quot;)\n\tend\nend)\n```\n\nSugar for:\n\n```lua\nPromise.race({\n\tPromise.delay(seconds):andThen(function()\n\t\treturn Promise.reject(\n\t\t\trejectionValue == nil\n\t\t\tand Promise.Error.new({ kind = Promise.Error.Kind.TimedOut })\n\t\t\tor rejectionValue\n\t\t)\n\tend),\n\tpromise\n})\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;seconds&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;rejectionValue?&quot;,
                    &quot;desc&quot;: &quot;The value to reject with if the timeout is reached&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1173,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;getStatus&quot;,
            &quot;desc&quot;: &quot;Returns the current Promise status.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Status&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1197,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;andThen&quot;,
            &quot;desc&quot;: &quot;Chains onto an existing Promise and returns a new Promise.\n\n:::warning\nWithin the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by [[Error]] objects. If you want to treat it as a string for debugging, you should call `tostring` on it first.\n:::\n\nYou can return a Promise from the success or failure handler and it will be chained onto.\n\nCalling `andThen` on a cancelled Promise returns a cancelled Promise.\n\n:::tip\nIf the Promise returned by `andThen` is cancelled, `successHandler` and `failureHandler` will not run.\n\nTo run code no matter what, use [Promise:finally].\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;successHandler&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; ...any&quot;
                },
                {
                    &quot;name&quot;: &quot;failureHandler?&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; ...any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1276,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;catch&quot;,
            &quot;desc&quot;: &quot;Shorthand for `Promise:andThen(nil, failureHandler)`.\n\nReturns a Promise that resolves if the `failureHandler` worked without encountering an additional error.\n\n:::warning\nWithin the failure handler, you should never assume that the rejection value is a string. Some rejections within the Promise library are represented by [[Error]] objects. If you want to treat it as a string for debugging, you should call `tostring` on it first.\n:::\n\nCalling `catch` on a cancelled Promise returns a cancelled Promise.\n\n:::tip\nIf the Promise returned by `catch` is cancelled,  `failureHandler` will not run.\n\nTo run code no matter what, use [Promise:finally].\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;failureHandler&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; ...any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1303,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;tap&quot;,
            &quot;desc&quot;: &quot;Similar to [Promise.andThen](#andThen), except the return value is the same as the value passed to the handler. In other words, you can insert a `:tap` into a Promise chain without affecting the value that downstream Promises receive.\n\n```lua\n\tgetTheValue()\n\t:tap(print)\n\t:andThen(function(theValue)\n\t\tprint(\&quot;Got\&quot;, theValue, \&quot;even though print returns nil!\&quot;)\n\tend)\n```\n\nIf you return a Promise from the tap handler callback, its value will be discarded but `tap` will still wait until it resolves before passing the original value through.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;tapHandler&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; ...any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1324,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;andThenCall&quot;,
            &quot;desc&quot;: &quot;Attaches an `andThen` handler to this Promise that calls the given callback with the predefined arguments. The resolved value is discarded.\n\n```lua\n\tpromise:andThenCall(someFunction, \&quot;some\&quot;, \&quot;arguments\&quot;)\n```\n\nThis is sugar for\n\n```lua\n\tpromise:andThen(function()\n\treturn someFunction(\&quot;some\&quot;, \&quot;arguments\&quot;)\n\tend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; any&quot;
                },
                {
                    &quot;name&quot;: &quot;...?&quot;,
                    &quot;desc&quot;: &quot;Additional arguments which will be passed to `callback`&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1359,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;andThenReturn&quot;,
            &quot;desc&quot;: &quot;Attaches an `andThen` handler to this Promise that discards the resolved value and returns the given value from it.\n\n```lua\n\tpromise:andThenReturn(\&quot;some\&quot;, \&quot;values\&quot;)\n```\n\nThis is sugar for\n\n```lua\n\tpromise:andThen(function()\n\t\treturn \&quot;some\&quot;, \&quot;values\&quot;\n\tend)\n```\n\n:::caution\nPromises are eager, so if you pass a Promise to `andThenReturn`, it will begin executing before `andThenReturn` is reached in the chain. Likewise, if you pass a Promise created from [[Promise.reject]] into `andThenReturn`, it&#x27;s possible that this will trigger the unhandled rejection warning. If you need to return a Promise, it&#x27;s usually best practice to use [[Promise.andThen]].\n:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;Values to return from the function&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1389,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;cancel&quot;,
            &quot;desc&quot;: &quot;Cancels this promise, preventing the promise from resolving or rejecting. Does not do anything if the promise is already settled.\n\nCancellations will propagate upwards and downwards through chained promises.\n\nPromises will only be cancelled if all of their consumers are also cancelled. This is to say that if you call `andThen` twice on the same promise, and you cancel only one of the child promises, it will not cancel the parent promise until the other child promise is also cancelled.\n\n```lua\n\tpromise:cancel()\n```&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1407,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;finally&quot;,
            &quot;desc&quot;: &quot;Set a handler that will be called regardless of the promise&#x27;s fate. The handler is called when the promise is\nresolved, rejected, *or* cancelled.\n\nReturns a new Promise that:\n- resolves with the same values that this Promise resolves with.\n- rejects with the same values that this Promise rejects with.\n- is cancelled if this Promise is cancelled.\n\nIf the value you return from the handler is a Promise:\n- We wait for the Promise to resolve, but we ultimately discard the resolved value.\n- If the returned Promise rejects, the Promise returned from `finally` will reject with the rejected value from the\n*returned* promise.\n- If the `finally` Promise is cancelled, and you returned a Promise from the handler, we cancel that Promise too.\n\nOtherwise, the return value from the `finally` handler is entirely discarded.\n\n:::note Cancellation\nAs of Promise v4, `Promise:finally` does not count as a consumer of the parent Promise for cancellation purposes.\nThis means that if all of a Promise&#x27;s consumers are cancelled and the only remaining callbacks are finally handlers,\nthe Promise is cancelled and the finally callbacks run then and there.\n\nCancellation still propagates through the `finally` Promise though: if you cancel the `finally` Promise, it can cancel\nits parent Promise if it had no other consumers. Likewise, if the parent Promise is cancelled, the `finally` Promise\nwill also be cancelled.\n:::\n\n```lua\nlocal thing = createSomething()\n\ndoSomethingWith(thing)\n\t:andThen(function()\n\t\tprint(\&quot;It worked!\&quot;)\n\t\t-- do something..\n\tend)\n\t:catch(function()\n\t\twarn(\&quot;Oh no it failed!\&quot;)\n\tend)\n\t:finally(function()\n\t\t-- either way, destroy thing\n\n\t\tthing:Destroy()\n\tend)\n\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;finallyHandler&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(status: Status) -&gt; ...any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;...any&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1552,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;finallyCall&quot;,
            &quot;desc&quot;: &quot;Same as `andThenCall`, except for `finally`.\n\nAttaches a `finally` handler to this Promise that calls the given callback with the predefined arguments.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: any) -&gt; any&quot;
                },
                {
                    &quot;name&quot;: &quot;...?&quot;,
                    &quot;desc&quot;: &quot;Additional arguments which will be passed to `callback`&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1566,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;finallyReturn&quot;,
            &quot;desc&quot;: &quot;Attaches a `finally` handler to this Promise that discards the resolved value and returns the given value from it.\n\n```lua\n\tpromise:finallyReturn(\&quot;some\&quot;, \&quot;values\&quot;)\n```\n\nThis is sugar for\n\n```lua\n\tpromise:finally(function()\n\t\treturn \&quot;some\&quot;, \&quot;values\&quot;\n\tend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;Values to return from the function&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1592,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;awaitStatus&quot;,
            &quot;desc&quot;: &quot;Yields the current thread until the given Promise completes. Returns the Promise&#x27;s status, followed by the values that the promise resolved or rejected with.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;The Status representing the fate of the Promise&quot;,
                    &quot;lua_type&quot;: &quot;Status&quot;
                },
                {
                    &quot;desc&quot;: &quot;The values the Promise resolved or rejected with.&quot;,
                    &quot;lua_type&quot;: &quot;...any&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 1606,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;await&quot;,
            &quot;desc&quot;: &quot;Yields the current thread until the given Promise completes. Returns true if the Promise resolved, followed by the values that the promise resolved or rejected with.\n\n:::caution\nIf the Promise gets cancelled, this function will return `false`, which is indistinguishable from a rejection. If you need to differentiate, you should use [[Promise.awaitStatus]] instead.\n:::\n\n```lua\n\tlocal worked, value = getTheValue():await()\n\nif worked then\n\tprint(\&quot;got\&quot;, value)\nelse\n\twarn(\&quot;it failed\&quot;)\nend\n```&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;`true` if the Promise successfully resolved&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                },
                {
                    &quot;desc&quot;: &quot;The values the Promise resolved or rejected with.&quot;,
                    &quot;lua_type&quot;: &quot;...any&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 1659,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;expect&quot;,
            &quot;desc&quot;: &quot;Yields the current thread until the given Promise completes. Returns the values that the promise resolved with.\n\n```lua\nlocal worked = pcall(function()\n\tprint(\&quot;got\&quot;, getTheValue():expect())\nend)\n\nif not worked then\n\twarn(\&quot;it failed\&quot;)\nend\n```\n\nThis is essentially sugar for:\n\n```lua\nselect(2, assert(promise:await()))\n```\n\n**Errors** if the Promise rejects or gets cancelled.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;The values the Promise resolved with.&quot;,
                    &quot;lua_type&quot;: &quot;...any&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;errors&quot;: [
                {
                    &quot;lua_type&quot;: &quot;any&quot;,
                    &quot;desc&quot;: &quot;Errors with the rejection value if this Promise rejects or gets cancelled.&quot;
                }
            ],
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 1696,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;now&quot;,
            &quot;desc&quot;: &quot;Chains a Promise from this one that is resolved if this Promise is already resolved, and rejected if it is not resolved at the time of calling `:now()`. This can be used to ensure your `andThen` handler occurs on the same frame as the root Promise execution.\n\n```lua\ndoSomething()\n\t:now()\n\t:andThen(function(value)\n\t\tprint(\&quot;Got\&quot;, value, \&quot;synchronously.\&quot;)\n\tend)\n```\n\nIf this Promise is still running, Rejected, or Cancelled, the Promise returned from `:now()` will reject with the `rejectionValue` if passed, otherwise with a `Promise.Error(Promise.Error.Kind.NotResolvedInTime)`. This can be checked with [[Error.isKind]].&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;rejectionValue?&quot;,
                    &quot;desc&quot;: &quot;The value to reject with if the Promise isn&#x27;t resolved&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1882,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;retry&quot;,
            &quot;desc&quot;: &quot;Repeatedly calls a Promise-returning function up to `times` number of times, until the returned Promise resolves.\n\nIf the amount of retries is exceeded, the function will return the latest rejected Promise.\n\n```lua\nlocal function canFail(a, b, c)\n\treturn Promise.new(function(resolve, reject)\n\t\t-- do something that can fail\n\n\t\tlocal failed, thing = doSomethingThatCanFail(a, b, c)\n\n\t\tif failed then\n\t\t\treject(\&quot;it failed\&quot;)\n\t\telse\n\t\t\tresolve(thing)\n\t\tend\n\tend)\nend\n\nlocal MAX_RETRIES = 10\nlocal value = Promise.retry(canFail, MAX_RETRIES, \&quot;foo\&quot;, \&quot;bar\&quot;, \&quot;baz\&quot;) -- args to send to canFail\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: P) -&gt; Promise&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;times&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;...?&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;P&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;3.0.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1927,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;retryWithDelay&quot;,
            &quot;desc&quot;: &quot;Repeatedly calls a Promise-returning function up to `times` number of times, waiting `seconds` seconds between each\nretry, until the returned Promise resolves.\n\nIf the amount of retries is exceeded, the function will return the latest rejected Promise.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;(...: P) -&gt; Promise&lt;T&gt;&quot;
                },
                {
                    &quot;name&quot;: &quot;times&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;seconds&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;...?&quot;,
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;P&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;T&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;v3.2.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1955,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;fromEvent&quot;,
            &quot;desc&quot;: &quot;Converts an event into a Promise which resolves the next time the event fires.\n\nThe optional `predicate` callback, if passed, will receive the event arguments and should return `true` or `false`, based on if this fired event should resolve the Promise or not. If `true`, the Promise resolves. If `false`, nothing happens and the predicate will be rerun the next time the event fires.\n\nThe Promise will resolve with the event arguments.\n\n:::tip\nThis function will work given any object with a `Connect` method. This includes all Roblox events.\n:::\n\n```lua\n-- Creates a Promise which only resolves when `somePart` is touched\n-- by a part named `\&quot;Something specific\&quot;`.\nreturn Promise.fromEvent(somePart.Touched, function(part)\n\treturn part.Name == \&quot;Something specific\&quot;\nend)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;event&quot;,
                    &quot;desc&quot;: &quot;Any object with a `Connect` method. This includes all Roblox events.&quot;,
                    &quot;lua_type&quot;: &quot;Event&quot;
                },
                {
                    &quot;name&quot;: &quot;predicate?&quot;,
                    &quot;desc&quot;: &quot;A function which determines if the Promise should resolve with the given value, or wait for the next event to check again.&quot;,
                    &quot;lua_type&quot;: &quot;(...: P) -&gt; boolean&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&lt;P&gt;&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;3.0.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 1997,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        },
        {
            &quot;name&quot;: &quot;onUnhandledRejection&quot;,
            &quot;desc&quot;: &quot;Registers a callback that runs when an unhandled rejection happens. An unhandled rejection happens when a Promise\nis rejected, and the rejection is not observed with `:catch`.\n\nThe callback is called with the actual promise that rejected, followed by the rejection values.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;callback&quot;,
                    &quot;desc&quot;: &quot;A callback that runs when an unhandled rejection happens.&quot;,
                    &quot;lua_type&quot;: &quot;(promise: Promise, ...: any)&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;Function that unregisters the `callback` when called&quot;,
                    &quot;lua_type&quot;: &quot;() -&gt; ()&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;since&quot;: &quot;v3.2.0&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 2049,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        }
    ],
    &quot;properties&quot;: [
        {
            &quot;name&quot;: &quot;Status&quot;,
            &quot;desc&quot;: &quot;A table containing all members of the `Status` enum, e.g., `Promise.Status.Resolved`.&quot;,
            &quot;lua_type&quot;: &quot;Status&quot;,
            &quot;tags&quot;: [
                &quot;enums&quot;
            ],
            &quot;readonly&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 205,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        }
    ],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;Status&quot;,
            &quot;desc&quot;: &quot;An enum value used to represent the Promise&#x27;s status.&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;Started&quot;,
                    &quot;lua_type&quot;: &quot;\&quot;Started\&quot;&quot;,
                    &quot;desc&quot;: &quot;The Promise is executing, and not settled yet.&quot;
                },
                {
                    &quot;name&quot;: &quot;Resolved&quot;,
                    &quot;lua_type&quot;: &quot;\&quot;Resolved\&quot;&quot;,
                    &quot;desc&quot;: &quot;The Promise finished successfully.&quot;
                },
                {
                    &quot;name&quot;: &quot;Rejected&quot;,
                    &quot;lua_type&quot;: &quot;\&quot;Rejected\&quot;&quot;,
                    &quot;desc&quot;: &quot;The Promise was rejected.&quot;
                },
                {
                    &quot;name&quot;: &quot;Cancelled&quot;,
                    &quot;lua_type&quot;: &quot;\&quot;Cancelled\&quot;&quot;,
                    &quot;desc&quot;: &quot;The Promise was cancelled before it finished.&quot;
                }
            ],
            &quot;tags&quot;: [
                &quot;enum&quot;
            ],
            &quot;source&quot;: {
                &quot;line&quot;: 198,
                &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;Promise&quot;,
    &quot;desc&quot;: &quot;A Promise is an object that represents a value that will exist in the future, but doesn&#x27;t right now.\nPromises allow you to then attach callbacks that can run once the value becomes available (known as *resolving*),\nor if an error has occurred (known as *rejecting*).&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 213,
        &quot;path&quot;: &quot;src/Util/Promise.luau&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#Status" class="table-of-contents__link toc-highlight">Status</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#Status" class="table-of-contents__link toc-highlight">Status</a></li></ul></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#andThen" class="table-of-contents__link toc-highlight">:andThen</a></li><li><a href="#andThenCall" class="table-of-contents__link toc-highlight">:andThenCall</a></li><li><a href="#andThenReturn" class="table-of-contents__link toc-highlight">:andThenReturn</a></li><li><a href="#await" class="table-of-contents__link toc-highlight">:await</a></li><li><a href="#awaitStatus" class="table-of-contents__link toc-highlight">:awaitStatus</a></li><li><a href="#cancel" class="table-of-contents__link toc-highlight">:cancel</a></li><li><a href="#catch" class="table-of-contents__link toc-highlight">:catch</a></li><li><a href="#expect" class="table-of-contents__link toc-highlight">:expect</a></li><li><a href="#finally" class="table-of-contents__link toc-highlight">:finally</a></li><li><a href="#finallyCall" class="table-of-contents__link toc-highlight">:finallyCall</a></li><li><a href="#finallyReturn" class="table-of-contents__link toc-highlight">:finallyReturn</a></li><li><a href="#getStatus" class="table-of-contents__link toc-highlight">:getStatus</a></li><li><a href="#now" class="table-of-contents__link toc-highlight">:now</a></li><li><a href="#tap" class="table-of-contents__link toc-highlight">:tap</a></li><li><a href="#timeout" class="table-of-contents__link toc-highlight">:timeout</a></li><li><a href="#all" class="table-of-contents__link toc-highlight">.all</a></li><li><a href="#allSettled" class="table-of-contents__link toc-highlight">.allSettled</a></li><li><a href="#any" class="table-of-contents__link toc-highlight">.any</a></li><li><a href="#defer" class="table-of-contents__link toc-highlight">.defer</a></li><li><a href="#delay" class="table-of-contents__link toc-highlight">.delay</a></li><li><a href="#each" class="table-of-contents__link toc-highlight">.each</a></li><li><a href="#fold" class="table-of-contents__link toc-highlight">.fold</a></li><li><a href="#fromEvent" class="table-of-contents__link toc-highlight">.fromEvent</a></li><li><a href="#is" class="table-of-contents__link toc-highlight">.is</a></li><li><a href="#new" class="table-of-contents__link toc-highlight">.new</a></li><li><a href="#onUnhandledRejection" class="table-of-contents__link toc-highlight">.onUnhandledRejection</a></li><li><a href="#promisify" class="table-of-contents__link toc-highlight">.promisify</a></li><li><a href="#race" class="table-of-contents__link toc-highlight">.race</a></li><li><a href="#reject" class="table-of-contents__link toc-highlight">.reject</a></li><li><a href="#resolve" class="table-of-contents__link toc-highlight">.resolve</a></li><li><a href="#retry" class="table-of-contents__link toc-highlight">.retry</a></li><li><a href="#retryWithDelay" class="table-of-contents__link toc-highlight">.retryWithDelay</a></li><li><a href="#some" class="table-of-contents__link toc-highlight">.some</a></li><li><a href="#try" class="table-of-contents__link toc-highlight">.try</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Kohl</div></div></div></footer></div>
</body>
</html>